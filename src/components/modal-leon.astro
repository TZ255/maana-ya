<!-- Modal -->
<div
  class="modal fade text-dark"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">
          <b style="font-size: 16px;">TSH. 2,OOO CHAPCHAP! ðŸ”¥ðŸ”¥ðŸ”¥</b>
        </h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close">X</button
        >
      </div>
      <div class="modal-body" style="text-align: justify;">
        Tunatoa Tsh. 2,000 BURE! Ukijisajili Leo na Tsh. 5,000 BURE! Ukidownload
        App Yetu.
        <br /><br />
        <div style="width: 100%; height: fit-content;">
          <img
            src="/imgs/leonbet.webp"
            alt="Tsh. 5,000 Bure | Install LeonBet App"
            style="width: 100%;"
            onclick="window.open('/leonbet/register')"
          />
        </div>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          id="betBtn"
          class="btn btn-primary"
          style="background-color: green; border: green; color: white !important; padding: 14px 20px !important;"
          ><b>CHUKUA OFA YAKO!</b></button
        >
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Reference the modal element and initialize the modal instance
    const modalElement = new bootstrap.Modal(
      document.getElementById("exampleModal")
    );
    const modalDomElement = document.getElementById("exampleModal");
    let modalInterval;

    // Function to check and show the modal if it's not visible
    function showModalIfNotVisible() {
      const isModalVisible = modalDomElement.classList.contains("show");
      if (!isModalVisible) {
        modalElement.show();
      }
    }

    // Function to start the interval
    function startModalInterval() {
      modalInterval = setInterval(showModalIfNotVisible, 15000);
    }

    // Event listener for when the modal is hidden
    modalDomElement.addEventListener("hidden.bs.modal", function () {
      clearInterval(modalInterval); // Clear the interval when the modal is closed
      startModalInterval(); // Restart the interval
    });

    // Start the interval on page load
    startModalInterval();
  });

  // Add event listener to the button for opening an external link
  document.getElementById("betBtn").addEventListener("click", function () {
    window.open("http://bet-link.top/leonbet/register", "_self");
  });
</script>
